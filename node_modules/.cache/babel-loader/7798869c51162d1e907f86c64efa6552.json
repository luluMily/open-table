{"ast":null,"code":"export const filterRestaurants = (filter = '', city = '') => {\n  return (dispatch, getState) => {\n    if (!filter) {\n      return dispatch => {\n        return fetch(\"https://opentable.herokuapp.com/api/restaurants?city=\".concat(city)).then(res => res.json()).then(result => {\n          dispatch({\n            type: 'SEARCH_RESTAURANTS',\n            payload: result.restaurants\n          });\n        });\n      };\n    } else {\n      const state = getState();\n      let filterString = filter.toLowerCase();\n      const refinedRestanrants = state.restaurants.filter(restaurant => {\n        return restaurant.name.toLowerCase().includes(filterString) || restaurant.address.toLowerCase().includes(filterString) || restaurant.area.toLowerCase().includes(filterString);\n      });\n      dispatch({\n        type: 'FILTER_RESTAURANTS',\n        payload: refinedRestanrants\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/luluMily/project/open-table/src/actions/filterRestaurants.js"],"names":["filterRestaurants","filter","city","dispatch","getState","fetch","then","res","json","result","type","payload","restaurants","state","filterString","toLowerCase","refinedRestanrants","restaurant","name","includes","address","area"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAG,CAACC,MAAM,GAAC,EAAR,EAAYC,IAAI,GAAC,EAAjB,KAAwB;AACrD,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAE3B,QAAG,CAACH,MAAJ,EAAY;AACR,aAAQE,QAAD,IAAc;AACjB,eAAOE,KAAK,gEAAyDH,IAAzD,EAAL,CACFI,IADE,CACGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADV,EAEFF,IAFE,CAGEG,MAAD,IAAY;AACRN,UAAAA,QAAQ,CAAC;AACLO,YAAAA,IAAI,EAAE,oBADD;AAELC,YAAAA,OAAO,EAAEF,MAAM,CAACG;AAFX,WAAD,CAAR;AAIH,SARF,CAAP;AAUH,OAXD;AAYH,KAbD,MAaO;AACH,YAAMC,KAAK,GAAGT,QAAQ,EAAtB;AACA,UAAIU,YAAY,GAAGb,MAAM,CAACc,WAAP,EAAnB;AAEA,YAAMC,kBAAkB,GAAGH,KAAK,CAACD,WAAN,CAAkBX,MAAlB,CAAyBgB,UAAU,IAAI;AAC9D,eAAOA,UAAU,CAACC,IAAX,CAAgBH,WAAhB,GAA8BI,QAA9B,CAAuCL,YAAvC,KACAG,UAAU,CAACG,OAAX,CAAmBL,WAAnB,GAAiCI,QAAjC,CAA0CL,YAA1C,CADA,IAEAG,UAAU,CAACI,IAAX,CAAgBN,WAAhB,GAA8BI,QAA9B,CAAuCL,YAAvC,CAFP;AAGH,OAJ0B,CAA3B;AAKAX,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAE,oBADD;AAELC,QAAAA,OAAO,EAAEK;AAFJ,OAAD,CAAR;AAIH;AACJ,GA7BD;AA8BH,CA/BM","sourcesContent":["export const filterRestaurants = (filter='', city='') => {\n    return (dispatch, getState) => {\n\n        if(!filter) {\n            return (dispatch) => {\n                return fetch(`https://opentable.herokuapp.com/api/restaurants?city=${city}`)\n                    .then(res => res.json())\n                    .then(\n                        (result) => {\n                            dispatch({\n                                type: 'SEARCH_RESTAURANTS',\n                                payload: result.restaurants\n                            })\n                        }\n                    )\n            }\n        } else {\n            const state = getState();\n            let filterString = filter.toLowerCase();\n    \n            const refinedRestanrants = state.restaurants.filter(restaurant => {\n                return restaurant.name.toLowerCase().includes(filterString)\n                    || restaurant.address.toLowerCase().includes(filterString)\n                    || restaurant.area.toLowerCase().includes(filterString)\n            })\n            dispatch({\n                type: 'FILTER_RESTAURANTS',\n                payload: refinedRestanrants\n            })           \n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}